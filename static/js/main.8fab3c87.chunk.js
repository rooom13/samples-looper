(this["webpackJsonpsamples-looper"]=this["webpackJsonpsamples-looper"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"100":{"name":"100","turntables":[{"name":"ambience","disks":[{"src":"music/100/ambience/Cretan Lyra BPM 100 06.mp3","name":"Cretan Lyra BPM 100 06"},{"src":"music/100/ambience/Cretan Lyra BPM 100 16.mp3","name":"Cretan Lyra BPM 100 16"},{"src":"music/100/ambience/LNL_Synth-Arp3_100_F.mp3","name":"LNL_Synth-Arp3_100_F"},{"src":"music/100/ambience/Sun Chords 100bpm.mp3","name":"Sun Chords 100bpm"}]},{"name":"drums","disks":[{"src":"music/100/drums/DimeOnThaDolla_100_DrumFill.mp3","name":"DimeOnThaDolla_100_DrumFill"},{"src":"music/100/drums/LNL_Drum_Lp60_100.mp3","name":"LNL_Drum_Lp60_100"}]}]},"120":{"name":"120","turntables":[{"name":"accompanyament","disks":[{"src":"music/120/accompanyament/looperman-l-2148602-0155733-120bpm-organ-trap-lofi-in-em.wav","name":"looperman-l-2148602-0155733-120bpm-organ-trap-lofi-in-em"}]},{"name":"cositas","disks":[{"src":"music/120/cositas/looperman-l-1964484-0126172-tmandjievdo0-120-bpm-deep-house-drums-03-no-kick.wav","name":"looperman-l-1964484-0126172-tmandjievdo0-120-bpm-deep-house-drums-03-no-kick"},{"src":"music/120/cositas/looperman-l-1964484-0134949-deep-house-drums-04-no-kick-2.wav","name":"looperman-l-1964484-0134949-deep-house-drums-04-no-kick-2"},{"src":"music/120/cositas/looperman-l-2736343-0142290-brasil-like-reggaeton-drumloop.wav","name":"looperman-l-2736343-0142290-brasil-like-reggaeton-drumloop"}]},{"name":"drum","disks":[{"src":"music/120/drum/looperman-l-1929922-0153496-fast-funky-lofi-hip-hop-drums-120-bpm.wav","name":"looperman-l-1929922-0153496-fast-funky-lofi-hip-hop-drums-120-bpm"},{"src":"music/120/drum/looperman-l-2608304-0126533-khouroux-desk-drum-2.wav","name":"looperman-l-2608304-0126533-khouroux-desk-drum-2"},{"src":"music/120/drum/looperman-l-2845325-0147202-kick-snare-hihat-simple-drum-loop.wav","name":"looperman-l-2845325-0147202-kick-snare-hihat-simple-drum-loop"},{"src":"music/120/drum/looperman-l-3038622-0152363-hip-beatz.wav","name":"looperman-l-3038622-0152363-hip-beatz"}]},{"name":"melody","disks":[{"src":"music/120/melody/looperman-l-0671112-0155762-lost-in-love.wav","name":"looperman-l-0671112-0155762-lost-in-love"},{"src":"music/120/melody/looperman-l-0796811-0155829-a-minor-open-chord-guitar (1).wav","name":"looperman-l-0796811-0155829-a-minor-open-chord-guitar (1)"},{"src":"music/120/melody/looperman-l-0796811-0155829-a-minor-open-chord-guitar.wav","name":"looperman-l-0796811-0155829-a-minor-open-chord-guitar"},{"src":"music/120/melody/looperman-l-2740363-0155806-unfamiliar-dark-trap-loop.wav","name":"looperman-l-2740363-0155806-unfamiliar-dark-trap-loop"},{"src":"music/120/melody/looperman-l-3056825-0156088-space-robot-melody.wav","name":"looperman-l-3056825-0156088-space-robot-melody"}]},{"name":"reagge","disks":[{"src":"music/120/reagge/looperman-l-0159051-0156014-minor2go-type-guitar-reggae-hop-x1.wav","name":"looperman-l-0159051-0156014-minor2go-type-guitar-reggae-hop-x1"},{"src":"music/120/reagge/looperman-l-2148602-0155608-120bpm-reggae-key-pluck-in-f.wav","name":"looperman-l-2148602-0155608-120bpm-reggae-key-pluck-in-f"},{"src":"music/120/reagge/looperman-l-2148602-0155611-120bpm-guitarbeat-in-am.wav","name":"looperman-l-2148602-0155611-120bpm-guitarbeat-in-am"},{"src":"music/120/reagge/looperman-l-2148602-0155731-120bpm-organ-trap-in-am.wav","name":"looperman-l-2148602-0155731-120bpm-organ-trap-in-am"}]},{"name":"trap","disks":[{"src":"music/120/trap/looperman-l-2148602-0155608-120bpm-reggae-key-pluck-in-f.wav","name":"looperman-l-2148602-0155608-120bpm-reggae-key-pluck-in-f"}]}]},"169":{"name":"169","turntables":[{"name":"maniac","disks":[]}]},"174":{"name":"174","turntables":[{"name":"bass","disks":[{"src":"music/174/bass/808.wav","name":"808"}]},{"name":"kicks","disks":[{"src":"music/174/kicks/amen_break.wav","name":"amen_break"}]},{"name":"melody","disks":[{"src":"music/174/melody/banjo.wav","name":"banjo"},{"src":"music/174/melody/tm88.wav","name":"tm88"}]}]},"175":{"name":"175","turntables":[{"name":"bass","disks":[{"src":"music/175/bass/bass.wav","name":"bass"},{"src":"music/175/bass/platis.wav","name":"platis"},{"src":"music/175/bass/techno.wav","name":"techno"}]},{"name":"claps","disks":[{"src":"music/175/claps/claps.wav","name":"claps"}]},{"name":"kicks","disks":[{"src":"music/175/kicks/kic_all.wav","name":"kic_all"},{"src":"music/175/kicks/kick_platills.wav","name":"kick_platills"},{"src":"music/175/kicks/minimal_dry.wav","name":"minimal_dry"},{"src":"music/175/kicks/minimal_kick.wav","name":"minimal_kick"},{"src":"music/175/kicks/selva.wav","name":"selva"}]},{"name":"melodies","disks":[{"src":"music/175/melodies/deadmau5.wav","name":"deadmau5"},{"src":"music/175/melodies/tetrica.wav","name":"tetrica"},{"src":"music/175/melodies/tremolo.wav","name":"tremolo"}]},{"name":"snares","disks":[{"src":"music/175/snares/deepHouse.wav","name":"deepHouse"},{"src":"music/175/snares/snares.wav","name":"snares"},{"src":"music/175/snares/snaress.wav","name":"snaress"}]}]},"daft_punk":{"name":"daft_punk","turntables":[{"name":"around_the_world","disks":[{"src":"music/daft_punk/around_the_world/base.wav","name":"base"},{"src":"music/daft_punk/around_the_world/bass.wav","name":"bass"},{"src":"music/daft_punk/around_the_world/fade_in.wav","name":"fade_in"},{"src":"music/daft_punk/around_the_world/solo.wav","name":"solo"},{"src":"music/daft_punk/around_the_world/voice.wav","name":"voice"}]}]},"new project":{"name":"new project","turntables":[]}}')},31:function(e,t,n){"use strict";n.r(t);var a,s,i,r,o,c,l,u,d,m,b,p,h,j,k,g,v,f,x,O,w,y,S,D,N,C,A=n(1),T=n(18),M=n.n(T),P=n(7),_=n(8),L=n(10),R=n(9),I=n(2),F={body:"white",text:"black",button:"#FFF",buttonActive:"#bfbfbf",buttonText:"black",backgroundSwitch:"lightgray",shadow:"black"},V={body:"black",text:"white",button:"dimgray",buttonActive:"#e64040",buttonText:"white",backgroundSwitch:"#383838",shadow:"white"},E=n(3),J=Object(I.b)(a||(a=Object(E.a)(["\n  html {\n    height: 100%;\n  }\n  body {\n    height: 100%;\n    background: ",";\n    color: ",";\n    transition: all 0.25s linear;\n\n    font-family: verdana;\n  }\n\n  #root { height: 100% };\n\n  /* Scroll-bars */\n  ::-webkit-scrollbar-track {\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n    background-color: ",";\n  }\n  \n  ::-webkit-scrollbar {\n    width: 6px;\n    background-color: dimgrey;\n  }\n  \n  ::-webkit-scrollbar-thumb {\n    background-color: dimgrey;\n  }\n\n  ::-webkit-scrollbar-corner { background: dimgrey }\n\n  /* dropdown menu */\n\n  select {\n    padding: 0.25rem;\n    border-radius: 5px;\n  }\n"])),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.body})),z=n(13),H=n(4),B=n(5),K=n(11),W=function(e,t,n,a,s){return(e-t)*(s-a)/(n-t)+a},U=n(0),q=(A.Component,I.c.div(s||(s=Object(E.a)(["\n    position: relative;\n    ","\n"])),(function(e){return"width: "+e.width+"px;height: "+e.height+"px;"}))),G=I.c.canvas(i||(i=Object(E.a)(["\n    position: absolute; \n    left: 0; \n    top: 0; \n    z-index: 0;  \n"]))),$=I.c.canvas(r||(r=Object(E.a)(["\n    position: absolute; \n    left: 0; \n    top: 0; \n    z-index: 1;  \n"]))),Q=I.c.button(o||(o=Object(E.a)(["\n    cursor: pointer;\n"]))),X=Object(I.c)(Q)(c||(c=Object(E.a)(["\n    color: ",";\n    background-color: ",";\n    border-radius: 5px;\n"])),(function(e){return e.theme.buttonText}),(function(e){var t=e.isActive,n=e.theme;return t?n.buttonActive:n.button})),Y=Object(I.c)(Q)(l||(l=Object(E.a)(['\n    border: none;\n    background: none;\n    ::before {\n        content: "','";\n    }\n    font-size: 1rem;\n\n    &:hover {\n        font-style: italic;\n    }\n'])),(function(e){return e.isActive?e.emojiActive:e.emojiInactive})),Z=function(e){return Object(U.jsx)(Y,Object(H.a)(Object(H.a)({},e),{},{emojiActive:"\u274c",isActive:!0}))},ee=function(e){return Object(U.jsx)(Y,Object(H.a)(Object(H.a)({},e),{},{emojiActive:"\u25b6\ufe0f",emojiInactive:"\u23f8\ufe0f"}))},te=function(e){return Object(U.jsx)(Y,Object(H.a)(Object(H.a)({},e),{},{emojiActive:"\ud83d\udd07",emojiInactive:"\ud83d\udd0a"}))},ne=function(e){return Object(U.jsx)(Y,Object(H.a)(Object(H.a)({},e),{},{emojiActive:"\ud83d\udca5",emojiInactive:"\ud83d\udd04"}))},ae=function(e){return Object(U.jsx)(Y,Object(H.a)(Object(H.a)({},e),{},{emojiActive:"\ud83d\udd01",isActive:!0}))},se=function(e){return Object(U.jsx)(Y,Object(H.a)(Object(H.a)({},e),{},{emojiActive:"+",isActive:!0,style:{color:"lime",fontWeight:"bold",fontSize:"x-large"}}))},ie=function(e){return Object(U.jsx)(Y,Object(H.a)(Object(H.a)({},e),{},{emojiActive:"\ud83c\udf1e",emojiInactive:"\ud83c\udf19"}))},re=function(e){return Object(U.jsx)(Y,Object(H.a)(Object(H.a)({},e),{},{emojiActive:"\ud83d\udcbe",isActive:!0}))},oe=function(e){return Object(U.jsxs)(A.Fragment,{children:["\ud83d\udd0a",Object(U.jsx)("input",Object(H.a)({type:"range",min:"0",max:"2",step:"0.01"},e))," "]})},ce=function(e){Object(L.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(P.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isRestarting:!1},e}return Object(_.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.togglePaused,a=t.toggleMuted,s=t.toggleLoop,i=t.isTurntableSelected,r=t.isPaused,o=t.isLoop,c=t.isMuted,l=t.progress,u=t.isSelected,d=t.index,m=t.selectDisk,b=t.duration,p=t.playbackRate,h=t.volume,j=t.isAudioLoaded,k=t.isRestarting,g=(t.buffer,t.idSrc,W(l,0,100,0,360));return Object(U.jsxs)(pe,{isSelected:u,isTurntableSelected:i,children:[Object(U.jsxs)(be,{children:[Object(U.jsxs)(de,{onClick:function(e){return m(e,d-1)},children:[" ",d]}),Object(U.jsxs)(me,{children:[Object(U.jsx)(ee,{title:"pause",onClick:n,isActive:r}),Object(U.jsx)(ne,{title:"restart",onClick:this.props.restart,isActive:k})]}),Object(U.jsx)(me,{children:Object(U.jsx)(le,{src:j&&"./sprites/disk.png",style:{transform:"rotate(".concat(g,"deg)")}})}),Object(U.jsxs)(me,{children:[Object(U.jsx)(te,{title:"mute",onClick:a,isActive:c}),Object(U.jsx)(ae,{title:"toggle loop",onClick:s,isActive:o})]}),Object(U.jsxs)(me,{children:[Object(U.jsx)(X,{title:"send to Switch L",onClick:this.props.setLeftDiskSwitch,children:"\ud83e\udc82 L"}),Object(U.jsx)(X,{title:"send to Switch R",onClick:this.props.setRightDiskSwitch,children:"\ud83e\udc82 R"})]}),Object(U.jsxs)(me,{children:[Object(U.jsx)(ue,{onChange:this.props.handleDuration,type:"number",value:b}),Object(U.jsx)(ue,{onChange:this.props.handlePlaybackRate,type:"number",value:p,step:"0.001"}),Object(U.jsxs)(be,{children:[Object(U.jsx)(X,{onClick:function(){return e.props.handlePlaybackRate({target:{value:.5*e.props.playbackRate}})},children:"x0.5"}),Object(U.jsx)(X,{onClick:function(){return e.props.handlePlaybackRate({target:{value:2*e.props.playbackRate}})},children:"x2"})]})]})]}),Object(U.jsxs)(be,{children:[Object(U.jsx)(oe,{volume:h,onChange:this.props.handleVolumeChange,value:h}),Object(U.jsxs)("span",{style:{fontSize:"0.75rem",width:"3rem",textAlign:"right"},children:[(100*h).toFixed()," %"]})]})]})}}]),n}(A.Component),le=I.c.img(u||(u=Object(E.a)(["\n    width: ",";\n    transform: rotate(","deg);\n"])),"4.5rem",(function(e){return e.rotation})),ue=I.c.input(d||(d=Object(E.a)(["\n    border: 1px solid black;\n    padding: 0.25rem;    \n    width: 5rem;\n"]))),de=I.c.button(m||(m=Object(E.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 1rem;\n    height: 1rem;\n    background-color: black;\n    border-radius: 50%;\n    padding: 1rem;\n    color: white;\n"]))),me=I.c.div(b||(b=Object(E.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    margin: 0.25rem;\n"]))),be=I.c.div(p||(p=Object(E.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),pe=I.c.div(h||(h=Object(E.a)(["\n    border-radius: 5px;\n    padding: 1rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-color: ",";\n    box-shadow: 0px 0px 6px 1px ",";\n"])),(function(e){return e.isSelected?e.isTurntableSelected?"brown":"grey":"dimgrey"}),(function(e){return e.theme.shadow})),he=ce,je=function(e){Object(L.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e))._isComponentMounted=!1,a.play=function(){if(a.state.isPaused){delete a.srcNode,a.srcNode=a.actx.createBufferSource(),a.srcNode.onended=function(){},a.srcNode.buffer=a.buffer,a.srcNode.connect(a.gainNode),a.srcNode.loop=a.state.isLoop,a.srcNode.playbackRate.value=a.state.playbackRate;var e=a.pausedAt%a.state.originalDuration;a.srcNode.start(0,e),a.startedAt=a.actx.currentTime-e,a.setState({isPaused:!1})}},a.stop=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(a.srcNode){var n=e?0:a.actx.currentTime-a.startedAt;a.srcNode.stop(),a.pausedAt=n,a.setState({isPaused:!0},t)}},a.restart=function(){if(a.srcNode){a.setState({isRestarting:!0}),setTimeout((function(){return a.setState({isRestarting:!1})}),50),a.setState({currentTime:0});var e=!a.state.isPaused;a.stop(!0,e?a.play:null)}},a.tick=function(){if(a._isComponentMounted){if(!a.state.isPaused){var e=a.actx.currentTime-a.startedAt;a.setState({currentTime:e%a.state.duration})}var t=W(a.state.currentTime,0,a.state.originalDuration,0,100)*a.state.playbackRate;a.setState({progress:t}),requestAnimationFrame(a.tick.bind(Object(K.a)(a)))}},a.togglePaused=function(){a.state.isAudioLoaded&&(a.state.isPaused?a.play():a.stop())},a.toggleLoop=function(){a.srcNode&&(a.srcNode.loop=!a.state.isLoop),a.setState({isLoop:!a.state.isLoop})},a.toggleMuted=function(){var e=!a.state.isMuted;a.setMute(e)},a.setMute=function(e){var t=e?0:a.state.volume;a.gainNode.gain.setValueAtTime(t,a.actx.currentTime),a.setState({isMuted:e})},a.handleVolumeChange=function(e){var t=e.target.value;a.gainNode.gain.setValueAtTime(a.state.isMuted?0:t,a.actx.currentTime),a.setState({volume:t})},a.handlePlaybackRate=function(e){var t=e.target.value;isNaN(t)||(a.srcNode&&(a.srcNode.playbackRate.value=t),a.setState({playbackRate:t,duration:a.state.originalDuration/t}))},a.handleDuration=function(e){var t=e.target.value;if(!isNaN(t)){var n=a.state.originalDuration/t;a.srcNode&&(a.srcNode.playbackRate.value=n),a.setState({playbackRate:n,duration:t})}},a.state={progress:0,isPaused:!0,isMuted:!1,isLoop:!0,volume:1,playbackRate:1,originalDuration:0,duration:0,currentTime:0,tempo:null},a.startedAt=0,a.pausedAt=0,a}return Object(_.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.onRef(this),this._isComponentMounted=!0,this.actx=new(window.AudioContext||window.webkitAudioContext),this.gainNode=this.actx.createGain(),this.gainNode.connect(this.actx.destination),fetch(this.props.src,{mode:"cors"}).then((function(e){return e.arrayBuffer()})).then((function(t){return e.actx.decodeAudioData(t,(function(t){e.buffer=t,e.setState({isAudioLoaded:!0,originalDuration:t.duration,duration:t.duration})}))})),requestAnimationFrame(this.tick.bind(this))}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0),this._isComponentMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.isSelected,n=e.index,a=e.selectDisk,s=e.isTurntableSelected,i=e.src,r=e.name,o=this.state,c=o.isPaused,l=o.isMuted,u=o.isLoop,d=o.progress,m=o.duration,b=o.isAudioLoaded,p=o.isRestarting,h=o.volume,j=o.playbackRate;return Object(U.jsxs)(ke,{children:[Object(U.jsx)("div",{style:{margin:"0.5rem 0"},children:r}),this.state.tempo,Object(U.jsx)(Z,{onClick:this.props.removeDisk,style:{top:"0",right:"0",position:"absolute"}}),s&&t&&Object(U.jsxs)(A.Fragment,{children:[Object(U.jsx)(B.c,{keyEventName:B.b,keyValue:"p",onKeyHandle:this.togglePaused}),Object(U.jsx)(B.c,{keyEventName:B.b,keyValue:"m",onKeyHandle:this.toggleMuted}),Object(U.jsx)(B.c,{keyEventName:B.b,keyValue:"l",onKeyHandle:this.toggleLoop}),Object(U.jsx)(B.c,{keyEventName:B.b,keyValue:"r",onKeyHandle:this.restart})]}),Object(U.jsx)(he,{setLeftDiskSwitch:this.props.setLeftDiskSwitch,setRightDiskSwitch:this.props.setRightDiskSwitch,selectDisk:a,index:n,togglePaused:this.togglePaused,toggleMuted:this.toggleMuted,toggleLoop:this.toggleLoop,handleVolumeChange:this.handleVolumeChange,handlePlaybackRate:this.handlePlaybackRate,handleDuration:this.handleDuration,restart:this.restart,isRestarting:p,isPaused:c,isLoop:u,volume:h,isMuted:l,isTurntableSelected:s,isSelected:t,progress:d,duration:m,playbackRate:j,isAudioLoaded:b,buffer:b&&this.buffer,idSrc:i})]})}}]),n}(A.Component),ke=I.c.div(j||(j=Object(E.a)(["\n    position: relative;\n    width: max-content;\n"]))),ge=je,ve=function(e){Object(L.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(P.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isPaused:!0,isMuted:!1,selectedDisk:0,isSelected:!1,newDiskName:"",newDiskSrc:""},e.disks=[],e.selectDisk=function(t,n){t.preventDefault();var a=e.props.disks.length-1;n<0?n=a:n>a&&(n=0),e.setState({selectedDisk:n})},e.togglePaused=function(){e.state.isPaused?e.playAll():e.stopAll()},e.playAll=function(){Object.keys(e.disks).map((function(t){return e.disks[t].play()})),e.setState({isPaused:!1})},e.stopAll=function(){Object.keys(e.disks).map((function(t){return e.disks[t].stop()})),e.setState({isPaused:!0})},e.setMuteAll=function(t){Object.keys(e.disks).map((function(n){return e.disks[n].setMute(t)})),e.setState({isMuted:t})},e.toggleMuted=function(){e.setMuteAll(!e.state.isMuted)},e.restart=function(){Object.keys(e.disks).map((function(t){return e.disks[t].restart()}))},e.removeDisk=function(t){e.disks.splice(t,1),e.props.removeDisk(t)},e.onNewDiskClicked=function(){e.props.addDisk(e.state.newDiskName,e.state.newDiskSrc),e.setState({newDiskName:"",newDiskSrc:""})},e.handleFormChange=function(t){var n=t.target.name,a=t.target.value;e.setState({[n]:a})},e}return Object(_.a)(n,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0),this.disks=[]}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedDisk,a=t.isPaused,s=t.isMuted,i=t.newDiskName,r=t.newDiskSrc,o=this.props,c=o.disks,l=o.isSelected,u=o.name;return Object(U.jsxs)(Oe,{children:[Object(U.jsxs)(xe,{children:[u," "," ",Object(U.jsx)(Z,{title:"delete turntable",onClick:this.props.removeTurntable,style:{top:"0",right:"0",position:"absolute"}}),Object(U.jsx)(ee,{title:"pause turntable",onClick:this.togglePaused,isActive:a}),Object(U.jsx)(te,{title:"mute turntable",onClick:this.toggleMuted,isActive:s}),Object(U.jsx)(ne,{title:"restart turntable",onClick:this.restart})]}),l&&Object(U.jsxs)(A.Fragment,{children:[Object(U.jsx)(B.c,{keyEventName:B.a,code:"ArrowDown".toString(),onKeyHandle:function(t){return e.selectDisk(t,n+1)}}),Object(U.jsx)(B.c,{keyEventName:B.a,code:"ArrowUp".toString(),onKeyHandle:function(t){return e.selectDisk(t,n-1)}})]}),c&&c.map((function(t,a){var s=t.name,i=t.src,r=a;return Object(U.jsxs)(A.Fragment,{children:[Object(U.jsx)(B.c,{keyEventName:B.b,keyValue:r.toString(),onKeyHandle:function(t){return e.selectDisk(t,r)}}),Object(U.jsx)(ge,{setLeftDiskSwitch:function(){return e.props.setDiskSwitch("left",e.props.turntableIndex,r)},setRightDiskSwitch:function(){return e.props.setDiskSwitch("right",e.props.turntableIndex,r)},onRef:function(t){t?e.disks[r]=t:delete e.disks[r]},selectDisk:e.selectDisk,src:i,name:s,index:r,isTurntableSelected:l,isSelected:n===r,removeDisk:function(){return e.removeDisk(r)}},i)]},a)})),Object(U.jsxs)("div",{style:{display:"flex"},children:[Object(U.jsx)(fe,{name:"newDiskName",placeholder:"new disk name",value:i,onChange:this.handleFormChange}),Object(U.jsx)(fe,{name:"newDiskSrc",placeholder:"new disk src",value:r,onChange:this.handleFormChange}),Object(U.jsx)(se,{title:"add disk",disabled:!(i&&r),onClick:this.onNewDiskClicked})]}),Object(U.jsx)("div",{style:{height:"13rem"}})]})}}]),n}(A.Component),fe=I.c.input(k||(k=Object(E.a)(["\n    color: ",";\n    background: none;\n    border: none;\n    font-size: 1rem;\n    width: 100%;\n    \n    ::placeholder {\n        font-style: italic;\n        color: grey;\n        text-decoration: underline;\n    }\n"])),(function(e){return e.theme.text})),xe=I.c.div(g||(g=Object(E.a)(["\n    margin: 0.75rem 0;\n    font-size: 1.5rem;\n    font-weight: bolder;\n    font-variant: small-caps;\n"]))),Oe=I.c.div(v||(v=Object(E.a)(["\n    position: relative;\n    width: max-content;\n    margin: 0.25rem;\n\n    ::after {\n        height: 10rem;\n    }\n"]))),we=ve,ye=function(e){var t=e.leftDisk,n=e.rightDisk;return Object(U.jsx)(Ce,{children:Object(U.jsxs)(Ne,{children:[Object(U.jsxs)("div",{children:[Object(U.jsx)("div",{style:{fontSize:"4rem"},children:"\ud83c\uddf1"}),Object(U.jsx)(Se,{diskName:t.diskName,diskIndex:t.diskIndex,turntableName:t.turntableName,turntableIndex:t.turntableIndex})]}),Object(U.jsxs)("div",{children:[Object(U.jsx)("h3",{children:"Switch"}),Object(U.jsxs)(Ne,{children:[Object(U.jsx)(De,{children:Object(U.jsxs)("span",{style:{width:"3.5rem",textAlign:"right"},children:[(100*t.volume).toFixed()," %"]})}),Object(U.jsx)(De,{children:Object(U.jsx)(oe,{value:n.volume,onChange:e.handleSwitchVolumeChange})}),Object(U.jsx)(De,{children:Object(U.jsxs)("span",{style:{width:"3.5rem",textAlign:"right"},children:[(100*n.volume).toFixed()," %"]})})]})]}),Object(U.jsxs)("div",{children:[Object(U.jsx)("div",{style:{fontSize:"4rem"},children:"\ud83c\uddf7"}),Object(U.jsx)(Se,{diskName:n.diskName,diskIndex:n.diskIndex,turntableName:n.turntableName,turntableIndex:n.turntableIndex})]})]})})},Se=function(e){return Object(U.jsxs)(De,{children:[Object(U.jsxs)("div",{children:["turntable: ",e.turntableName," [",e.turntableIndex,"]"]}),Object(U.jsxs)("div",{children:["\ud83d\udcc0 ",e.diskName," [",e.diskIndex,"]"]})]})},De=I.c.div(f||(f=Object(E.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 0.5rem;\n"]))),Ne=I.c.div(x||(x=Object(E.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),Ce=I.c.div(O||(O=Object(E.a)(["\n    border-radius: 5px;\n    padding: 1rem;\n    background-color: ",";\n    text-align: center;\n    box-shadow: 0px 0px 6px 1px ",";\n"])),(function(e){return e.theme.backgroundSwitch}),(function(e){return e.theme.shadow})),Ae=function(e){Object(L.a)(n,e);var t=Object(R.a)(n);function n(e){var a;Object(P.a)(this,n),(a=t.call(this,e)).selectTurntable=function(e,t){e.preventDefault();var n=a.props.turntables.length-1;t>n?t=0:t<0&&(t=n),a.setState({selectedTurntable:t})},a.toggleMasterPaused=function(){var e=a.state.isMasterPaused?"playAll":"stopAll";Object.keys(a.turntables).map((function(t){return a.turntables[t][e]()})),a.setState({isMasterPaused:!a.state.isMasterPaused})},a.toggleMasterMuted=function(){Object.keys(a.turntables).map((function(e){return a.turntables[e].setMuteAll(!a.state.isMasterMuted)})),a.setState({isMasterMuted:!a.state.isMasterMuted})},a.toggleMasterRestart=function(){Object.keys(a.turntables).map((function(e){return a.turntables[e].restart()}))},a.setDiskSwitch=function(e,t,n){var s=a.props.turntables[t];a.setState({[e+"SwitchDisk"]:{turntableIndex:t,diskIndex:n,turntableName:s.name,diskName:s.disks[n].name,volume:1}})},a.handleSwitchVolumeChange=function(e){var t=a.state,n=t.rightSwitchDisk,s=t.leftSwitchDisk,i=e.target.value,r=1-i,o=i;a.turntables[s.turntableIndex].disks[s.diskIndex].handleVolumeChange({target:{value:r}}),a.turntables[n.turntableIndex].disks[n.diskIndex].handleVolumeChange(e),a.setState({leftSwitchDisk:Object(H.a)(Object(H.a)({},s),{},{volume:r}),rightSwitchDisk:Object(H.a)(Object(H.a)({},n),{},{volume:o})})},a.handleNewTurnTableNameChange=function(e){var t=e.target.value;a.setState({newTurntableName:t})},a.onAddTurntableClicked=function(){a.props.addTurntable(a.state.newTurntableName),a.setState({newTurntableName:""})},a.removeTurntable=function(e){a.turntables.splice(e,1),a.props.removeTurntable(e)};var s=a.props.turntables,i=s[0],r=s[1],o=i.disks[0].name,c=r.disks[0].name;return a.state={selectedTurntable:0,isMasterPaused:!0,isMasterMuted:!1,leftSwitchDisk:{volume:1,turntableIndex:0,diskIndex:0,diskName:o,turntableName:i.name},rightSwitchDisk:{volume:1,turntableIndex:1,diskIndex:0,diskName:c,turntableName:r.name},newTurntableName:""},a.turntables=[],a}return Object(_.a)(n,[{key:"componentWillUnmount",value:function(){delete this.turntables}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedTurntable,a=t.isMasterPaused,s=t.isMasterMuted,i=t.leftSwitchDisk,r=t.rightSwitchDisk,o=t.newTurntableName,c=this.props,l=c.turntables,u=c.title;return Object(U.jsxs)(Me,{children:[Object(U.jsx)("h1",{children:u}),Object(U.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[Object(U.jsx)(ee,{title:"pause master",onClick:this.toggleMasterPaused,isActive:a}),Object(U.jsx)(te,{title:"mute master",onClick:this.toggleMasterMuted,isActive:s}),Object(U.jsx)(ne,{title:"restart master",onClick:this.toggleMasterRestart})]}),Object(U.jsxs)(_e,{children:[Object(U.jsx)(B.c,{keyEventName:B.a,code:"ArrowRight".toString(),onKeyHandle:function(t){return e.selectTurntable(t,n+1)}}),Object(U.jsx)(B.c,{keyEventName:B.a,code:"ArrowLeft".toString(),onKeyHandle:function(t){return e.selectTurntable(t,n-1)}}),l&&l.map((function(t,a){return Object(U.jsx)(we,{onRef:function(t){t?e.turntables[a]=t:delete e.turntables[a]},turntableIndex:a,isSelected:a===n,setDiskSwitch:e.setDiskSwitch,name:t.name,disks:t.disks,addDisk:function(t,n){return e.props.addDisk(a,t,n)},removeTurntable:function(){return e.removeTurntable(a)},removeDisk:function(t){return e.props.removeDisk(a,t)}},a)})),Object(U.jsxs)("div",{style:{display:"flex"},children:[Object(U.jsx)(Te,{placeholder:"new turntable name",value:o,onChange:this.handleNewTurnTableNameChange}),Object(U.jsx)(se,{title:"add turntable",disabled:!o,onClick:this.onAddTurntableClicked})]})]}),Object(U.jsx)(Pe,{children:Object(U.jsx)(ye,{leftDisk:i,rightDisk:r,handleSwitchVolumeChange:this.handleSwitchVolumeChange})})]})}}]),n}(A.Component),Te=I.c.input(w||(w=Object(E.a)(["\n    color: ",";\n    background: none;\n    border: none;\n    font-size: 0.85rem;\n    \n    ::placeholder {\n        font-style: italic;\n        color: grey;\n        text-decoration: underline;\n    }\n"])),(function(e){return e.theme.text})),Me=I.c.div(y||(y=Object(E.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow-y: hidden;\n"]))),Pe=I.c.div(S||(S=Object(E.a)(["\n    justify-content: center;\n    display: flex;\n    position: absolute;\n    bottom: 1.25rem;\n"]))),_e=I.c.div(D||(D=Object(E.a)(["\n    display: flex;\n    flex-direction: row;\n    overflow: scroll;\n    width: 100%;\n    border-top: 1px solid grey;\n"]))),Le=Ae,Re=I.c.div(N||(N=Object(E.a)(["\n  box-shadow: 0px 0px 6px 1px ",";\n  border-radius: 5px;\n  position: absolute;\n  z-index: 1;\n  background-color: ","\n"])),(function(e){return e.theme.shadow}),(function(e){return e.theme.body})),Ie=I.c.textarea(C||(C=Object(E.a)(["\n  position: absolute;\n  border-radius: 5px;\n  width: -webkit-fill-available;\n  height: -webkit-fill-available;\n  background-color: black;\n  color: white;\n"]))),Fe=function(e){var t=e.isInputValid,n=e.projectStr,a=e.handleProjectChange,s=e.onApplyClicked;return Object(U.jsx)(Re,{children:Object(U.jsxs)("div",{style:{position:"relative"},children:[Object(U.jsx)("h3",{children:"Edit project as JSON"}),Object(U.jsxs)("div",{style:{position:"relative",width:"800px",height:"400px"},children:[Object(U.jsx)(Ie,{value:n,onChange:a}),Object(U.jsx)(re,{title:"apply and save changes",style:{position:"absolute",top:"0.25rem",right:"0.25rem",fontSize:"1.25rem"},disabled:!t,onClick:s})]})]})})},Ve=function(e){Object(L.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(P.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={project:{},projectStr:"",isProjectJSONEditShown:!1,selectedProject:"175",isDarkTheme:!0},e.getSavedMusic=function(){try{return JSON.parse(window.localStorage.project)}catch(e){return}},e.setTurntables=function(t){var n=e.state.project;n.turntables=t,e.setProject(n)},e.setProject=function(t){e.setState({project:t,projectStr:JSON.stringify(t,null,"\t")}),window.localStorage.project=JSON.stringify(t)},e.handleturntablesChange=function(t){var n=t.target.value;e.setState({projectStr:n})},e.onApplyClicked=function(){var t=JSON.parse(e.state.projectStr);e.setProject(t)},e.addDisk=function(t,n,a){var s=e.state.project.turntables;s[t].disks.push({name:n,src:a.replace("www.dropbox.com","dl.dropboxusercontent.com")}),e.setTurntables(s)},e.removeDisk=function(t,n){var a=e.state.project.turntables;a[t].disks.splice(n,1),e.setTurntables(a)},e.addTurntable=function(t){var n=e.state.project.turntables;n.push({name:t,disks:[]}),e.setTurntables(n)},e.removeTurntable=function(t){var n=e.state.project.turntables;n.splice(t,1),e.setTurntables(n)},e.toggleProjectJSONEdit=function(){e.setState({isProjectJSONEditShown:!e.state.isProjectJSONEditShown})},e.toggleTheme=function(){var t=!e.state.isDarkTheme;e.setState({isDarkTheme:t}),window.localStorage.isDarkTheme=t},e.handleSelectedProjectChange=function(t){var n=t.target.value;e.setState({selectedProject:n}),e.setProject(z[n])},e}return Object(_.a)(n,[{key:"componentDidMount",value:function(){var e="true"===window.localStorage.isDarkTheme,t=z[this.state.selectedProject];this.setProject(t),this.setState({isDarkTheme:e})}},{key:"render",value:function(){var e=this.state,t=e.project,n=e.projectStr,a=e.isProjectJSONEditShown,s=e.selectedProject,i=e.isDarkTheme,r=!0;try{JSON.parse(n)}catch(o){r=!1}return t?Object(U.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:Object(U.jsxs)(I.a,{theme:i?V:F,children:[Object(U.jsx)(J,{}),Object(U.jsxs)("div",{children:[Object(U.jsx)(X,{onClick:this.toggleProjectJSONEdit,style:{padding:"0.25rem",fontFamily:"monospace",fontWeight:"bolder"},children:"</>"}),a&&Object(U.jsx)(Fe,{handleProjectChange:this.handleturntablesChange,isInputValid:r,projectStr:n,onApplyClicked:this.onApplyClicked}),Object(U.jsx)("select",{name:"selectedProject",onChange:this.handleSelectedProjectChange,value:s,children:Object.keys(z).map((function(e){return Object(U.jsx)("option",{value:e,children:e},e)}))}),Object(U.jsx)(ie,{title:"toggle dark theme",onClick:this.toggleTheme,style:{float:"right"},isActive:i})]}),t.turntables&&Object(U.jsx)(Le,{title:t.name,turntables:t.turntables,addDisk:this.addDisk,removeDisk:this.removeDisk,addTurntable:this.addTurntable,removeTurntable:this.removeTurntable})]})}):Object(U.jsx)("div",{children:"Loading"})}}]),n}(A.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));M.a.render(Object(U.jsx)(Ve,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.8fab3c87.chunk.js.map